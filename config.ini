# Configuration File for Tanzanian Rent Invoice Processor
# Edit this file to customize tax rates, validation rules, and app behavior

[TAX_RATES]
# Withholding Tax Rate (as decimal, e.g., 0.10 = 10%)
WHT_RATE = 0.10

# Standard VAT Rate (as decimal, e.g., 0.18 = 18%)
VAT_RATE_STANDARD = 0.18

# Tolerance for VAT rate verification (Â±1%)
VAT_RATE_TOLERANCE = 0.01

[COMPLIANCE]
# WHT remittance deadline (days after month end)
WHT_REMITTANCE_DAYS = 7

# Minimum amount to require TIN validation (TZS)
MIN_AMOUNT_FOR_TIN_VALIDATION = 1000000

# Flag for non-standard VAT rates
FLAG_NON_STANDARD_VAT = true

[OCR_SETTINGS]
# Tesseract language (eng = English, swa = Swahili, eng+swa = both)
TESSERACT_LANG = eng

# Minimum confidence threshold for OCR (0-100)
MIN_OCR_CONFIDENCE = 60

# Auto-crop borders (removes white space around invoice)
AUTO_CROP_BORDERS = false

[VALIDATION]
# Maximum allowed difference between calculated and stated total (TZS)
MAX_TOTAL_DIFFERENCE = 0.10

# Require invoice number
REQUIRE_INVOICE_NUMBER = false

# Require landlord TIN
REQUIRE_LANDLORD_TIN = false

# Require bank details
REQUIRE_BANK_DETAILS = false

[UI_SETTINGS]
# App title
APP_TITLE = Tanzanian Commercial Rent Invoice Processor

# Default page layout (wide or centered)
PAGE_LAYOUT = wide

# Show debug information
SHOW_DEBUG_INFO = false

# Color theme (light or dark)
COLOR_THEME = light

[CURRENCY]
# Default currency code
DEFAULT_CURRENCY = TZS

# Currency display format (e.g., "TZS 1,000,000.00")
CURRENCY_FORMAT = {code} {amount:,.2f}

# Include USD conversion estimates
SHOW_USD_ESTIMATES = true

# Approximate exchange rate (informational only)
APPROX_USD_RATE = 2500

[EXPORT]
# Enable PDF report generation
ENABLE_PDF_EXPORT = false

# Enable Excel export
ENABLE_EXCEL_EXPORT = false

# Include calculation breakdown in exports
INCLUDE_CALCULATION_DETAILS = true

[ADVANCED]
# Decimal precision for calculations
DECIMAL_PLACES = 2

# Rounding method (ROUND_HALF_UP, ROUND_DOWN, ROUND_UP)
ROUNDING_METHOD = ROUND_HALF_UP

# Cache OCR results (faster re-processing)
CACHE_OCR_RESULTS = true

# Maximum file upload size (MB)
MAX_UPLOAD_SIZE_MB = 10

[WARNINGS]
# Show compliance warnings
SHOW_COMPLIANCE_WARNINGS = true

# Show residency verification warning
WARN_RESIDENCY_VERIFICATION = true

# Show TIN validation warning
WARN_TIN_VALIDATION = true

# Show service charge WHT warning
WARN_SERVICE_CHARGE_WHT = true

[FEATURES]
# Enable manual input mode
ENABLE_MANUAL_INPUT = true

# Enable image upload
ENABLE_IMAGE_UPLOAD = true

# Enable PDF upload
ENABLE_PDF_UPLOAD = true

# Enable batch processing (future feature)
ENABLE_BATCH_PROCESSING = false

# Enable history/database (future feature)
ENABLE_HISTORY = false

[HELP]
# TRA website URL
TRA_WEBSITE = https://www.tra.go.tz

# TRA online services URL
TRA_ONLINE_SERVICES = https://www.tra.go.tz/index.php/online-services

# Help email (your support email)
SUPPORT_EMAIL = support@example.com

[LOGGING]
# Enable logging
ENABLE_LOGGING = false

# Log file path
LOG_FILE_PATH = ./logs/app.log

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL = INFO

---

# NOTES FOR DEVELOPERS

## Modifying Tax Rates

To change tax rates (e.g., if TRA updates rates):
1. Update WHT_RATE or VAT_RATE_STANDARD above
2. Restart the Streamlit app
3. Run test_calculations.py to verify

## Adding New Features

To add features like PDF export or batch processing:
1. Set the corresponding ENABLE_* flag to true
2. Implement the feature in app.py
3. Update requirements.txt if new packages needed

## Currency Support

To add support for other currencies:
1. Update DEFAULT_CURRENCY
2. Modify CURRENCY_FORMAT
3. Update currency parsing in InvoiceParser class

## Localization

To add Swahili language support:
1. Change TESSERACT_LANG to "eng+swa" or "swa"
2. Install Swahili language pack: `sudo apt-get install tesseract-ocr-swa`
3. Add Swahili UI translations in app.py

## Validation Rules

To make certain fields required:
1. Set REQUIRE_* flags to true
2. Validation errors will be shown during processing

## Custom Rounding

Different businesses may have different rounding preferences:
- ROUND_HALF_UP: Standard rounding (0.5 rounds up)
- ROUND_DOWN: Always rounds down (conservative)
- ROUND_UP: Always rounds up (safer for tax payments)

---

# IMPORTANT REMINDERS

1. **Tax Law Changes**: Always verify current rates with TRA before relying on these settings
2. **Backup**: Keep a backup of this file before making changes
3. **Testing**: Test thoroughly after changing tax rates or validation rules
4. **Compliance**: Custom settings don't override legal requirements
5. **Documentation**: Document any changes you make for future reference

---

Last Updated: January 2026
